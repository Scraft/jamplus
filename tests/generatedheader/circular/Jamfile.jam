rule SleepThenTouch
{
    Clean clean : $(<) ;
    Depends all : $(<) ;
}

actions lua SleepThenTouch
{
    require 'iox'
    iox.Sleep(5000)
    io.writeall([[$(<)]], '')
    -- sleep 5
    -- touch $(<)
}

SleepThenTouch <foo>generated.h ;
Library foo : sourceA.c sourceB.c ;
